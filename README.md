# **AreaCalculator library**

Для ответа на второй вопрос перейдите [сюда](./Question2/README.md)



## Что может?

Рассчитывать площадь круга по радиусу и треугольника по трем сторонам.

## Как использовать?

После добавления библиотеки в зависимости проекта, необходимо:

1) Создать экземпляры классов `ShapeCreator` и `AreaCalculator`. Оба класса реализуют соответствующие им интерфейсы, поэтому рекомендуется использовать DI.

2) Создать желаемую фигуру через `ShapeCreator`. Доступные на данный момент методы:

- `CreateCircle(double radius)`
- `CreateTriangle(double sideA, double sideB, double sideC)`

3) Отправить созданный объект фигуры в метод `AreaCalculator.CalculateArea(IShape targetShape)`

Примеры использования библиотеки можно посмотреть в проекте `ClientApp`.

## Как добавить новые виды фигур?

Далее для примера будет показан процесс добавления квадрата в качестве новой фигуры.

1) Создайте новый класс для необходимой фигуры в директории `Shapes`.

![SquareClassCreated](.\README_images\SquareClassCreated.png)

2) Реализуйте им метод `IShape`.

- Не забудьте добавить необходимые поля для расчёта площади новой фигуры

* Не забудьте добавить `internal` конструктор для возможности создать в будущем такую фигуру через `ShapeCreator`, но запретить создание фигур вручную. Также не забудьте про заполнение полей, необходимых для расчета площади фигуры.

  ![SquareClassCreated](.\README_images\SquareClassCode.png)

3) Добавьте код для создания новой фигуры в `ShapeCreator` и `IShapeCreator`, добавив необходимую валидацию

![IShapeCreatorSquare](.\README_images\IShapeCreatorSquare.png)

![ShapeCreatorSquare](.\README_images\ShapeCreatorSquare.png)

Добавление новой фигуры закончено. Следуйте инструкции выше, чтобы далее использовать новую фигуру и расчитать её площадь. Если всё работает корректно, **не забудьте добавить новые тесты для созданной фигуры**.

## Прочее

- Почему для того, чтобы использовать проверку на то, является ли треугольник прямоугольным, необходимо явно приводить его к типу `Triangle`?
  - Несмотря на то, что я старался использовать интерфейс `IShape` по максимуму, если пользователю необходимо проверить, является ли треугольник прямоугольным, он должен знать, что имеет дело именно с треугольником, поэтому я посчитал, что явное приведение допустимо.
- Для прямоугольных треугольников есть отдельная формула по расчёту площади. Почему она не используется?
  - Для ее реализации необходимо знать, какая сторона является гипотенузой. Это требует добавление по одному новому полю для каждого катета, к тому же, такой код довольно громоздок. Я допускаю, что такой код будет выполняться быстрее, поскольку требует гораздо меньше мат. вычислений, но, следуя принципу KISS, я решил оставить подобный функционал на дальнейшую оптимизацию, *если она потребуется*.
- Все итоговые вычисления имеют уродливый вид совсем без округления!
  - В идеале, точность округлений (как и точность расчётов, которая используется, например, для определения, является ли треугольник прямоугольным) следовало бы вывести в файл конфигурации или конструктор `AreaCalculator` (или в отдельный класс-конфигуратор подобных констант), а оттуда уже использовать его во всех необходимых местах. Но YAGNI.